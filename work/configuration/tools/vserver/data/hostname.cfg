#-----------------------------------------------
#  Kernel + memory size
#-----------------------------------------------

name    = "<%= hostname %>"
kernel = '/usr/lib/xen-3.2-1/boot/hvmloader'
builder='hvm'
memory  = "<%= memory %>"
vcpus = "<%= vcpu %>"

#-----------------------------------------------
#  Disk device(s).
#-----------------------------------------------
# Choose a media to use
# alphalink for synchro with an existing host
disk    = [ 'phy:/dev/iscsi_<%= hostname %>,ioemu:hda,w', 'file:/root/iso/debian-live-alphalink.iso,hdc:cdrom,r' ]
boot='dc'
# use this configuration after installation
# disk    = [ 'phy:/dev/iscsi_<%= hostname %>,xvda,w' ]
# boot='c'


#-----------------------------------------------
#  Networking
#-----------------------------------------------
vif = [ <%= bridge.collect { |b| "'bridge=#{b}'" }.join(", ") %> ]

acpi=0
apic=1
apci=1
pae=1

#-----------------------------------------------
#            Behaviour
#-----------------------------------------------
on_poweroff = 'destroy'
on_reboot   = 'restart'
on_crash    = 'restart'

device_model = 'qemu-dm'

#-----------------------------------------------
#          graphics
#-----------------------------------------------
vnc=0
serial='pty'

