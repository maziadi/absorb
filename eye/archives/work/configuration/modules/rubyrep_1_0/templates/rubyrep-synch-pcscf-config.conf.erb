RR::Initializer::run do |config|
  config.left = {
    :adapter  => 'mysql',
    :database => '<%= rubyrep_mysql_database %>',
    :username => 'replication',
    :password => '<%= rubyrep_mysql_password %>',
    :host     => '<%= rubyrep_mysql_first_bind_addr %>'
  }
  config.right = {
    :adapter  => 'mysql',
    :database => '<%= rubyrep_mysql_database %>',
    :username => 'replication',
    :password => '<%= rubyrep_mysql_password %>',
    :host     => '<%= rubyrep_mysql_second_bind_addr %>'
  }

  config.include_tables /_cafar$/
  config.include_tables /_cr$/
  config.include_tables /_dom$/
  config.include_tables /_rt$/
  config.include_tables /_sub$/
  config.include_tables /_tru$/
  config.include_tables 'acc'
  config.include_tables 'address'
  config.include_tables 'carrierfailureroute'
  config.include_tables 'carrierroute'
  config.include_tables 'domain'
  config.include_tables 'missed_calls'
  config.include_tables 'route_tree'
  config.include_tables 'subscriber'
  config.include_tables 'trusted'

  config.options[:sync_conflict_handling] = :left_wins
  config.options[:logged_sync_events] = :ignored_conflicts
end
