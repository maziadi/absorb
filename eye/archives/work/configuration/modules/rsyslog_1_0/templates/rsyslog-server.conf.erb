#  /etc/rsyslog.conf	Configuration file for rsyslog v3.
#
#			For more information see 
#			/usr/share/doc/rsyslog-doc/html/rsyslog_conf.html

#################
#### MODULES ####
#################

$ModLoad impstats
$PStatInterval 30
$PStatSeverity 7

$ModLoad imuxsock # provides support for local system logging
$ModLoad imklog   # provides kernel logging support (previously done by rklogd) 

# provides UDP syslog reception
$ModLoad imudp
$UDPServerRun 514

# provides TCP syslog reception
$ModLoad imtcp
$InputTCPServerRun 514

# provides RELP syslog reception/emission
$ModLoad imrelp
$ModLoad omrelp
$InputRELPServerRun 20514

$MainMsgQueueWorkerThreads 1
$MainMsgQueueSize 1000000
$MainMsgQueueDequeueBatchSize 256

###########################
#### GLOBAL DIRECTIVES ####
###########################

# Use traditional timestamp format.
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

# Set the default permissions for all log files.
$FileOwner root
$FileGroup adm
$FileCreateMode 0640
$DirCreateMode 0755

$WorkDirectory /var/spool/rsyslog/  # default location for work (spool) files
###############
#### RULES ####
###############

<% if rsyslog_ip_replication -%>
$IncludeConfig /etc/rsyslog.d/repli.conf
<% end -%>
$IncludeConfig /etc/rsyslog.d/gen_group.conf
*.*     -/var/log/syslog/syslog
